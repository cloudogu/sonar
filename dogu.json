{
  "Name": "official/sonar",
  "Version": "7.9.4-1",
  "DisplayName": "SonarQube",
  "Description": "SonarQube is an open source quality management platform, dedicated to continuously analyze and measure source code quality",
  "Category": "Development Apps",
  "Tags": [
    "warp",
    "code",
    "quality",
    "analysis"
  ],
  "Logo": "https://cloudogu.com/images/dogus/sonarqube.png",
  "Url": "http://www.sonarqube.org/",
  "Image": "registry.cloudogu.com/official/sonar",
  "Dependencies": [
    "postgresql",
    "cas",
    "nginx",
    "postfix"
  ],
  "Volumes": [
    {
      "Name": "data",
      "Path": "/opt/sonar/data/",
      "Owner": "1000",
      "Group": "1000",
      "NeedsBackup": true
    },
    {
      "Name": "qualityprofiles",
      "Path": "/var/lib/qualityprofiles",
      "Owner": "1000",
      "Group": "1000",
      "NeedsBackup": false
    },
    {
      "Name": "extensions",
      "Path": "/opt/sonar/extensions",
      "Owner": "1000",
      "Group": "1000",
      "NeedsBackup": true
    }
  ],
  "ServiceAccounts": [
    {
      "Type": "postgresql"
    }
  ],
  "Configuration": [
    {
      "Name": "sonar.updatecenter.url",
      "Description": "Set custom SonarQube UpdateCenter URL",
      "Optional": true
    },
    {
      "Name": "sonar.plugins.default",
      "Description": "Comma separated list of plugin names to install on start",
      "Optional": true
    },
    {
      "Name": "container_config/memory_limit",
      "Description": "Limits the container's memory usage. Use a positive integer value followed by one of these units [b,k,m,g] (byte, kibibyte, mebibyte, gibibyte). We recommend at least 1g of memory for sonar.",
      "Optional": true,
      "Validation": {
        "Type": "BINARY_MEASUREMENT"
      }
    },
    {
      "Name": "container_config/swap_limit",
      "Description": "Limits the container's swap memory usage. Use zero or a positive integer value followed by one of these units [b,k,m,g] (byte, kibibyte, mebibyte, gibibyte). 0 will disable swapping.",
      "Optional": true,
      "Validation": {
        "Type": "BINARY_MEASUREMENT"
      }
    }
  ],
  "HealthChecks": [
    {
      "Type": "tcp",
      "Port": 9000
    },
    {
      "Type": "state"
    }
  ],
  "ExposedCommands": [
    {
      "Name": "post-upgrade",
      "Command": "/post-upgrade.sh"
    },
    {
      "Name": "upgrade-notification",
      "Command": "/upgrade-notification.sh"
    },
    {
      "Name": "pre-upgrade",
      "Command": "/pre-upgrade.sh"
    }
  ]
}
